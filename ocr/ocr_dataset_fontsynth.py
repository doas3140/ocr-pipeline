# AUTOGENERATED! DO NOT EDIT! File to edit: nbs/62_ocr_dataset_fontsynth.ipynb (unless otherwise specified).

__all__ = ['fontsynth_config', 'allowed_chars', 'get_fn2label', 'create_df', 'char_freq']

# Cell
from .core import *
from pathlib import PosixPath
import pandas as pd

allowed_chars = [

    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',

    'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm',
    'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',

    'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',
    'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',

    '(', ')', '{', '}', '[', ']', '<', '>', '/', '|', '\\',

    ' ', '!', '"', "'", ',', '.', ':', ';', '*', '^', '_', '~',

    '+', '=', '-', '!', '#', '$', '%', '&', '?', '@',

    'ą', 'č', 'ę', 'ė', 'į', 'š', 'ų', 'ū', 'ž',
    'Ą', 'Č', 'Ę', 'Ė', 'Į', 'Š', 'Ų', 'Ū', 'Ž',
]

class fontsynth_config:
    allowed_chars = allowed_chars
    lang = 'lt'
    wiki_path = PosixPath('../data/wiki')
    gen_dir = PosixPath('../data/fontsynth/')
    bgdir = PosixPath('../data/fontsynth/backgrounds/')
    txtfiles = PosixPath('../data/wiki/lt/docs/')
    fontdir = PosixPath('../data/fontsynth/fonts/')
    LINES_DIR = '../data/ocr/fontsynth_lines/'
    FILE_PATH = '../data/ocr/fontsynth_gt.pickle'
    LINE_HEIGHT = 48
    NUM_EXAMPLES = 50000
    VALID_PCT = .3

len(allowed_chars)

# Cell
def get_fn2label():
     return read_dict(fontsynth_config.FILE_PATH)

# Cell
def create_df(fn2label=None):
    if fn2label is None: fn2label = get_fn2label()
    data = []
    for fn, (label, data_split, dataset_desc) in fn2label.items():
        data.append((fn, label, data_split == 'test', dataset_desc))
    return pd.DataFrame(data, columns=['image_path', 'string', 'valid', 'dataset'])

# Cell
char_freq = {'`': 3, '$': 3, '&': 4, 'Q': 7, ']': 14, '[': 17, '*': 19, '?': 19, '~': 27, '|': 29,
             'q': 32, '!': 36, 'Ū': 42, '>': 65, '<': 67, 'Y': 80, '_': 80, 'Z': 82, 'x': 105,
             '+': 111, 'Į': 118, '=': 124, 'W': 126, '/': 131, "'": 136, 'w': 158, 'Č': 172,
             'U': 202, ';': 236, '%': 481, 'Ž': 485, 'F': 503, 'O': 510, 'C': 524, 'H': 563,
             '-': 816, ':': 921, 'Š': 1024, 'X': 1083, 'G': 1091, 'N': 1190, '7': 1236, '6': 1252,
             'E': 1331, '4': 1413, '8': 1423, 'M': 1501, '3': 1583, 'J': 1659, 'B': 1663, 'D': 1670,
             'R': 1681, '5': 1704, 'L': 1746, 'h': 1871, 'ę': 2138, 'T': 2366, '2': 2432, 'S': 2494,
             'I': 2622, '9': 2684, '"': 2685, 'A': 2872, 'K': 2997, 'V': 3038, '0': 3362, 'P': 3502,
             ')': 3686, '(': 3703, 'f': 3824, 'z': 4043, '1': 4836, 'ū': 4870, 'č': 5023, 'į': 5912,
             'c': 6432, 'ą': 7634, 'ž': 9394, 'š': 12233, 'b': 15668, 'y': 16624, 'ė': 17674,
             'ų': 17750, '.': 18061, ',': 18377, 'g': 20651, 'v': 25951, 'j': 27463, 'd': 28630,
             'p': 31386, 'l': 39217, 'm': 42216, 'k': 47857, 'u': 52494, 'n': 59645, 'e': 64967,
             't': 65520, 'r': 67735, 'o': 78793, 's': 92565, 'a': 136916, 'i': 166231, ' ': 173295}